# تدفقات واجهة المستخدم (UI/UX Flows) لمشروع EduSpark

هذا المستند يحدد تدفقات واجهة المستخدم الرئيسية (UI/UX Flows) لكل من بوابة الطالب ولوحة التحكم الإدارية لمشروع "منصة التعلّم الذكي EduSpark". يهدف هذا التفصيل إلى توجيه عملية تصميم وتطوير الواجهة الأمامية.

## 1. تدفقات بوابة الطالب (Student Portal Flows)

### أ. تدفق تسجيل الدخول/التسجيل (Login/Registration Flow)

1.  **نقطة البداية:** المستخدم يصل إلى الصفحة الرئيسية للمنصة أو يحاول الوصول إلى محتوى محمي.
2.  **الخيار 1: تسجيل الدخول:**
    *   المستخدم ينقر على "تسجيل الدخول".
    *   يتم توجيهه إلى صفحة تسجيل الدخول.
    *   يدخل البريد الإلكتروني وكلمة المرور.
    *   ينقر على "دخول".
    *   **النتيجة:** إذا كانت البيانات صحيحة، يتم توجيهه إلى لوحة تحكم الطالب/الصفحة الرئيسية. إذا كانت خاطئة، تظهر رسالة خطأ.
    *   **خيار إضافي:** "نسيت كلمة المرور؟" -> ينتقل إلى تدفق استعادة كلمة المرور.
3.  **الخيار 2: تسجيل مستخدم جديد:**
    *   المستخدم ينقر على "إنشاء حساب جديد" أو "تسجيل".
    *   يتم توجيهه إلى صفحة التسجيل.
    *   يدخل الاسم، البريد الإلكتروني، وكلمة المرور.
    *   ينقر على "تسجيل".
    *   **النتيجة:** يتم إنشاء الحساب وتسجيل دخوله تلقائيًا (أو يطلب منه تسجيل الدخول)، ثم يتم توجيهه إلى لوحة تحكم الطالب/الصفحة الرئيسية. تظهر رسالة خطأ إذا كان البريد الإلكتروني مستخدمًا بالفعل أو البيانات غير صالحة.

### ب. تدفق تصفح الدورات والالتحاق بها (Course Browsing & Enrollment Flow)

1.  **نقطة البداية:** لوحة تحكم الطالب أو صفحة "الدورات".
2.  **عرض قائمة الدورات:**
    *   تظهر قائمة بالدورات المتاحة (بطاقات الدورات) مع معلومات أساسية (عنوان، وصف موجز، مؤلف).
    *   يمكن للمستخدم البحث أو التصفية.
3.  **عرض تفاصيل الدورة:**
    *   المستخدم ينقر على بطاقة دورة معينة.
    *   يتم توجيهه إلى صفحة تفاصيل الدورة.
    *   تعرض الصفحة وصفًا كاملاً للدورة، قائمة بالدروس، ومتطلبات الدورة.
4.  **الالتحاق بالدورة:**
    *   إذا لم يكن الطالب مسجلاً في الدورة، يظهر زر "التحق بالدورة" أو "ابدأ الدورة".
    *   المستخدم ينقر على الزر.
    *   **النتيجة:** يتم تسجيل الطالب في الدورة، ويتغير الزر إلى "متابعة الدورة" أو "ابدأ الدرس الأول".

### ج. تدفق عرض الدرس وتفاعل LLM (Lesson View & LLM Interaction Flow)

1.  **نقطة البداية:** صفحة تفاصيل الدورة (بعد الالتحاق) أو لوحة تحكم الطالب.
2.  **عرض محتوى الدرس:**
    *   المستخدم ينقر على درس معين من قائمة الدروس.
    *   يتم توجيهه إلى صفحة عرض الدرس.
    *   تعرض الصفحة عنوان الدرس ومحتواه (نصوص، صور، فيديوهات).
    *   توجد أزرار للتنقل بين الدروس (الدرس السابق/التالي).
    *   زر "تم إكمال الدرس" لتسجيل التقدم.
3.  **تفاعل LLM (مساعد ذكي Q&A):**
    *   توجد واجهة دردشة (Chat Interface) على جانب الصفحة أو في قسم مخصص.
    *   المستخدم يكتب سؤاله المتعلق بالدرس.
    *   يرسل السؤال إلى LLM.
    *   **النتيجة:** تظهر إجابة LLM في واجهة الدردشة.
4.  **تفاعل LLM (تلخيص النصوص):**
    *   المستخدم يحدد جزءًا من النص في محتوى الدرس.
    *   يظهر خيار "تلخيص" (مثلاً كزر عائم أو في قائمة سياقية).
    *   المستخدم ينقر على "تلخيص".
    *   **النتيجة:** تظهر نافذة منبثقة أو قسم يعرض الملخص الذي ولده LLM.

### د. تدفق تتبع التقدم (Progress Tracking Flow)

1.  **نقطة البداية:** لوحة تحكم الطالب أو صفحة ملفه الشخصي.
2.  **عرض التقدم العام:**
    *   تظهر قائمة بالدورات التي التحق بها الطالب.
    *   لكل دورة، يظهر شريط تقدم أو نسبة مئوية توضح مدى إكمال الدورة.
    *   يمكن النقر على الدورة لعرض تفاصيل التقدم (الدروس المكتملة).
3.  **تسجيل إكمال الدرس:**
    *   في صفحة عرض الدرس، ينقر الطالب على زر "تم إكمال الدرس".
    *   **النتيجة:** يتم تحديث حالة الدرس في قاعدة البيانات، وينعكس ذلك في شريط التقدم.

## 2. تدفقات لوحة التحكم الإدارية (Admin Panel Flows)

### أ. تدفق تسجيل دخول المسؤول (Admin Login Flow)

1.  **نقطة البداية:** صفحة تسجيل دخول المسؤول (قد تكون منفصلة أو نفس صفحة تسجيل الدخول مع التحقق من الدور).
2.  **تسجيل الدخول:**
    *   المسؤول يدخل البريد الإلكتروني وكلمة المرور.
    *   ينقر على "دخول".
    *   **النتيجة:** إذا كانت البيانات صحيحة والدور "ADMIN"، يتم توجيهه إلى لوحة تحكم المسؤول الرئيسية. إذا كانت خاطئة أو الدور غير صحيح، تظهر رسالة خطأ.

### ب. تدفق إدارة الدورات (Course Management Flow)

1.  **نقطة البداية:** لوحة تحكم المسؤول الرئيسية -> "إدارة الدورات".
2.  **عرض قائمة الدورات:**
    *   تظهر قائمة بجميع الدورات (المنشورة وغير المنشورة) مع خيارات التعديل والحذف.
    *   زر "إنشاء دورة جديدة".
3.  **إنشاء دورة جديدة:**
    *   المسؤول ينقر على "إنشاء دورة جديدة".
    *   يتم توجيهه إلى نموذج إنشاء دورة.
    *   يدخل عنوان الدورة، وصفها، وحالة النشر.
    *   ينقر على "حفظ".
    *   **النتيجة:** يتم إنشاء الدورة وتظهر في القائمة.
4.  **تعديل دورة موجودة:**
    *   المسؤول ينقر على زر "تعديل" بجانب دورة معينة.
    *   يتم توجيهه إلى نموذج تعديل الدورة (مملوء بالبيانات الحالية).
    *   يعدل البيانات وينقر على "حفظ".
    *   **النتيجة:** يتم تحديث بيانات الدورة.
5.  **حذف دورة:**
    *   المسؤول ينقر على زر "حذف" بجانب دورة معينة.
    *   تظهر نافذة تأكيد.
    *   **النتيجة:** يتم حذف الدورة وجميع الدروس المرتبطة بها.

### ج. تدفق إدارة الدروس (Lesson Management Flow)

1.  **نقطة البداية:** صفحة إدارة الدورات -> النقر على دورة معينة -> "إدارة الدروس".
2.  **عرض قائمة الدروس:**
    *   تظهر قائمة بالدروس التابعة للدورة المختارة، مع خيارات التعديل والحذف وإعادة الترتيب.
    *   زر "إضافة درس جديد".
3.  **إنشاء درس جديد:**
    *   المسؤول ينقر على "إضافة درس جديد".
    *   يتم توجيهه إلى نموذج إنشاء درس.
    *   يدخل عنوان الدرس، ويستخدم محرر النصوص الغني لإدخال المحتوى.
    *   ينقر على "حفظ".
    *   **النتيجة:** يتم إنشاء الدرس ويظهر في قائمة دروس الدورة.
4.  **تعديل درس موجود:**
    *   المسؤول ينقر على زر "تعديل" بجانب درس معين.
    *   يتم توجيهه إلى نموذج تعديل الدرس (مملوء بالبيانات الحالية).
    *   يعدل البيانات وينقر على "حفظ".
    *   **النتيجة:** يتم تحديث بيانات الدرس.
5.  **حذف درس:**
    *   المسؤول ينقر على زر "حذف" بجانب درس معين.
    *   تظهر نافذة تأكيد.
    *   **النتيجة:** يتم حذف الدرس.

### د. تدفق إدارة المستخدمين (User Management Flow)

1.  **نقطة البداية:** لوحة تحكم المسؤول الرئيسية -> "إدارة المستخدمين".
2.  **عرض قائمة المستخدمين:**
    *   تظهر قائمة بجميع المستخدمين (طلاب ومسؤولين) مع معلوماتهم الأساسية وخيارات التعديل/الحذف.
    *   يمكن البحث والتصفية حسب الدور.
3.  **تعديل مستخدم:**
    *   المسؤول ينقر على زر "تعديل" بجانب مستخدم معين.
    *   تظهر نافذة منبثقة أو صفحة لتعديل اسم المستخدم، بريده الإلكتروني، ودوره (طالب/مسؤول).
    *   ينقر على "حفظ".
    *   **النتيجة:** يتم تحديث بيانات المستخدم.
4.  **حذف مستخدم:**
    *   المسؤول ينقر على زر "حذف" بجانب مستخدم معين.
    *   تظهر نافذة تأكيد (مع تحذير من الآثار).
    *   **النتيجة:** يتم حذف المستخدم.

### هـ. تدفق إدارة تكوين LLM (LLM Configuration Management Flow)

1.  **نقطة البداية:** لوحة تحكم المسؤول الرئيسية -> "تكوين LLM".
2.  **عرض/تعديل التكوين:**
    *   تظهر صفحة تعرض حقل إدخال لمفتاح API الخاص بـ OpenAI (قد يكون مخفيًا جزئيًا).
    *   يمكن للمسؤول إدخال أو تحديث المفتاح.
    *   (اختياري) حقول نصية لتعديل قوالب الأوامر (Prompts) الأساسية لـ LLM.
    *   ينقر على "حفظ التكوين".
    *   **النتيجة:** يتم تحديث تكوين LLM في النظام.